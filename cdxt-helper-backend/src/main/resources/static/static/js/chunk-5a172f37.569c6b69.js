(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a172f37"],{"41db":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i})),a.d(e,"e",(function(){return s})),a.d(e,"d",(function(){return c}));var n=a("b775");function r(t){return Object(n["a"])({url:"/deploy/post",method:"PUT",data:t})}function o(t){return Object(n["a"])({url:"/common/hospitals",method:"GET",params:t})}function i(t){return Object(n["a"])({url:"/deploy/list",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/deploy/update/state",method:"post",params:t})}function c(t){return Object(n["a"])({url:"/deploy/savaOrUpdateHospital",method:"post",data:t})}},6291:function(t,e,a){"use strict";var n=a("88e2"),r=a.n(n);r.a},"88e2":function(t,e,a){},f72d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{border:"",data:t.resData.records,"element-loading-text":"Loading",fit:"true","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"医院"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"所属分支",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.branch))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"发布时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.gmtCreate))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.gmtCreate))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"medium",placeholder:"输入关键字搜索"},model:{value:t.rparams.text,callback:function(e){t.$set(t.rparams,"text",e)},expression:"rparams.text"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.fetchData},slot:"append"})],1)]}},{key:"default",fn:function(e){return[a("i",{staticClass:"iconfont icon-fabu1",on:{click:function(a){return t.showBranchDialog("update",e.row)}}}),t._v(" "),a("i",{staticClass:"iconfont icon-shujuku"}),t._v(" "),a("i",{staticClass:"iconfont icon-aistubiaozhizuo--copy"}),t._v(" "),a("i",{staticClass:"iconfont icon-xianchangrenyuanweihu-copy"})]}}])})],1)],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"},attrs:{type:"flex"}},[a("el-col",{attrs:{span:""}},[a("el-pagination",{attrs:{"current-page":t.currentPage2,"page-sizes":[10,20,50,100],"page-size":t.rparams.pageSize,layout:"total,sizes, prev, pager, next",total:t.resData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage2=e},"update:current-page":function(e){t.currentPage2=e}}})],1),t._v(" "),a("el-col",[a("i",{staticClass:"iconfont icon-xinzeng",staticStyle:{color:"#66b1ff"},on:{click:function(e){return t.showBranchDialog("post",null)}}})])],1),t._v(" "),a("el-dialog",{attrs:{title:"update"==t.branchUpdateFormModel?"分支更新":"分支发布",visible:t.branchUpdateFormVisible,width:"30%"},on:{"update:visible":function(e){t.branchUpdateFormVisible=e}}},[a("el-form",{ref:"branchUpdateForm",attrs:{model:t.branchUpdateForm,rules:t.rules}},[a("el-form-item",{attrs:{label:"医院Id","label-width":t.formLabelWidth,hidden:""}},[a("el-input",{model:{value:t.branchUpdateForm.id,callback:function(e){t.$set(t.branchUpdateForm,"id",e)},expression:"branchUpdateForm.id"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"name",label:"医院名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入医院名称"},model:{value:t.branchUpdateForm.name,callback:function(e){t.$set(t.branchUpdateForm,"name",e)},expression:"branchUpdateForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"branch",label:"对应分支","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入对应分支信息"},model:{value:t.branchUpdateForm.branch,callback:function(e){t.$set(t.branchUpdateForm,"branch",e)},expression:"branchUpdateForm.branch"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitBranchUpdateForm("branchUpdateForm")}}},[t._v(t._s("update"==t.branchUpdateFormModel?"更 新":"发 布"))]),t._v(" "),a("el-button",{on:{click:function(e){t.branchUpdateFormVisible=!1}}},[t._v("取 消")])],1)],1)],1)},r=[],o=(a("6a61"),a("cf7f")),i=a("41db"),s={data:function(){return{resData:{},listLoading:!0,isUpdate:!1,rparams:{text:"",pageNum:1,pageSize:10},branchUpdateFormVisible:!1,branchUpdateFormModel:"post",branchUpdateForm:{id:"",name:"",branch:""},rules:{name:[{required:!0,message:"请输入医院名称",trigger:"blur"}],branch:[{required:!0,message:"请输入分支信息",trigger:"blur"}]}}},filters:{statusFilter:function(t){var e=null;return e=0==t?{type:"danger"}:{type:"info"},e[t]}},created:function(){this.rparams.text="",this.fetchData()},methods:{showBranchDialog:function(t,e){this.branchUpdateFormVisible=!0,this.branchUpdateFormModel="post"!=t&&"update"!=t?"post":t,"update"==this.branchUpdateFormModel?this.branchUpdateForm=e:this.branchUpdateForm={},console.log(this.branchUpdateForm)},submitBranchUpdateForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.saveAndUpdateBranch()}))},saveAndUpdateBranch:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.branchUpdateForm),t.next=3,Object(i["d"])(this.branchUpdateForm);case 3:e=t.sent,e&&(this.$message({message:"操作成功",type:"success"}),this.branchUpdateFormVisible=!1);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),fetchData:function(){this.listLoading=!0,this.getHospitalList(),this.listLoading=!1},stateClickEvent:function(t,e){console.log(e),this.updateState(e.id,1),this.fetchData()},getHospitalList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["c"])(this.rparams);case 2:e=t.sent,this.resData=e;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleSizeChange:function(t){this.rparams.pageSize=t,this.fetchData()},handleCurrentChange:function(t){this.rparams.pageNum=t,this.fetchData()}}},c=s,l=(a("6291"),a("9ca4")),u=Object(l["a"])(c,n,r,!1,null,"4c035fd8",null);e["default"]=u.exports}}]);